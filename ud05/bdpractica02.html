
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="bdpractica01.html">
      
      
        <link rel="next" href="bdpractica03.html">
      
      
      <link rel="icon" href="../images/cloud-computing.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Práctica 2. Base de datos privada - Introducción a la Nube</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bases-de-datos-rds-sin-acceso-publico" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../index.html" title="Introducción a la Nube" class="md-header__button md-logo" aria-label="Introducción a la Nube" data-md-component="logo">
      
  <img src="../images/cloud-computing.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Introducción a la Nube
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Práctica 2. Base de datos privada
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="light-blue"  aria-label="Cambiar a modo noche"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo noche" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="light-blue"  aria-label="Cambiar a modo día"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo día" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Introducción a la Nube" class="md-nav__button md-logo" aria-label="Introducción a la Nube" data-md-component="logo">
      
  <img src="../images/cloud-computing.png" alt="logo">

    </a>
    Introducción a la Nube
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UD01. Introducción a la Nube Pública
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            UD01. Introducción a la Nube Pública
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud01/ud01.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción a la Nube Pública
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud01/practica00.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lanzamiento del Laboratorio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud01/practica01.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    La Interfaz de Línea de Comandos
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UD02. Capa de Cómputo
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            UD02. Capa de Cómputo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud02/ud02.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Capa de Cómputo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud02/practica1.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creación de una Máquina Virtual
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud02/practica2.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prácticas a entregar
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UD03. Creación de un entorno de red
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            UD03. Creación de un entorno de red
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud03/vpc.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creación de un entorno de red
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud03/redpractica00.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica 0. Creación de una VPC automática
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud03/redpractica01.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica 1. Creación de una VPC manual
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud03/redpractica02.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica 2. Creación de una VPC con 2 subredes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud03/redpractica04.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica 3. Creación de una VPC con CLI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UD04. Capa de Almacenamiento
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            UD04. Capa de Almacenamiento
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud04/ud04.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Capa de Almacenamiento
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud04/practica1.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica 1. Creación de bucket en S3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud04/practica2.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica 2. Publicación de una web estática en S3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud04/practica3.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica 3. Gestión de volúmenes EBS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud04/practica4.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica 4. Almacenamiento compartido con EFS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud04/practica5.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica 5. CI/CD con GitHub Actions sobre S3
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Proyecto 1ª Evaluación
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Proyecto 1ª Evaluación
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pr01/pr01.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inraestructura segura de servidores
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UD05. Capa de Base de Datos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            UD05. Capa de Base de Datos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ud5.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Capa de base de datos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="bdpractica01.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica 1. Base de datos con acceso público
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Práctica 2. Base de datos privada
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="bdpractica02.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Práctica 2. Base de datos privada
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objetivo-de-la-practica" class="md-nav__link">
    <span class="md-ellipsis">
      Objetivo de la práctica
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#esquema-en-aws" class="md-nav__link">
    <span class="md-ellipsis">
      Esquema en AWS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practica-a-realizar" class="md-nav__link">
    <span class="md-ellipsis">
      Práctica a realizar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Práctica a realizar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacion-de-la-vpc-y-la-maquina-ec2" class="md-nav__link">
    <span class="md-ellipsis">
      Creación de la VPC y la máquina EC2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-la-base-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      Creación de la Base de Datos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conexion-a-la-base-de-datos-desde-la-maquina-ec2" class="md-nav__link">
    <span class="md-ellipsis">
      Conexión a la Base de Datos desde la máquina EC2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eliminacion-de-los-recursos-creados" class="md-nav__link">
    <span class="md-ellipsis">
      Eliminación de los recursos creados
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="bdpractica03.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica 3. Clúster de Base de Datos Aurora
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="bdpractica04.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica 4. Base de datos NoSQL
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UD07. Modelo de seguridad en AWS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            UD07. Modelo de seguridad en AWS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ud07/ud07.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modelo de seguridad en AWS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objetivo-de-la-practica" class="md-nav__link">
    <span class="md-ellipsis">
      Objetivo de la práctica
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#esquema-en-aws" class="md-nav__link">
    <span class="md-ellipsis">
      Esquema en AWS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practica-a-realizar" class="md-nav__link">
    <span class="md-ellipsis">
      Práctica a realizar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Práctica a realizar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creacion-de-la-vpc-y-la-maquina-ec2" class="md-nav__link">
    <span class="md-ellipsis">
      Creación de la VPC y la máquina EC2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-la-base-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      Creación de la Base de Datos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conexion-a-la-base-de-datos-desde-la-maquina-ec2" class="md-nav__link">
    <span class="md-ellipsis">
      Conexión a la Base de Datos desde la máquina EC2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eliminacion-de-los-recursos-creados" class="md-nav__link">
    <span class="md-ellipsis">
      Eliminación de los recursos creados
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="bases-de-datos-rds-sin-acceso-publico">Bases de Datos RDS sin acceso público</h1>
<h2 id="objetivo-de-la-practica">Objetivo de la práctica</h2>
<p>En esta práctica vamos a crear una base de datos RDS similar a la anterior, pero la vamos a ubicar en una subred privada de manera que no sea accesible desde Internet.</p>
<p>En una subred pública de la VPC crearemos una máquina virtual accesible desde Internet y que sí que podrá acceder a la base de datos. Este sería un modelo típico en el que tenemos un servidor (por ejemplo un servidor web) accesible desde Internet que ataca a una base de datos no accesible desde el exterior, aumentando así la seguridad de nuestros datos necesarios para la aplicación web.</p>
<h2 id="esquema-en-aws">Esquema en AWS</h2>
<p><img src="../images/ud05/BBDD2.drawio.png"></p>
<hr />
<h2 id="practica-a-realizar">Práctica a realizar</h2>
<h3 id="creacion-de-la-vpc-y-la-maquina-ec2">Creación de la VPC y la máquina EC2</h3>
<p>1.- Creamos una nueva VPC con la siguientes características:</p>
<ul>
<li>El bloque de CIDR será 10.0.0.0/16</li>
<li>Debe tener 2 AZs.</li>
<li>2 Subredes públicas (10.0.1.0/24 y 10.0.2.0/24) cada una en una AZ.</li>
<li>2 Subredes privadas (10.0.3.0/24 y 10.0.4.0/24) cada una en una AZ.</li>
<li>No es necesario un <em>Gateway NAT</em> ni un <em>Gateway de S3</em></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Aunque no usemos Multi-AZ, AWS requiere al menos dos subredes privadas en diferentes AZ para RDS. Esto mejora la flexibilidad y disponibilidad, aunque la configuración inicial sea simple.</p>
</div>
<p><br></p>
<hr />
<p>2-  Vamos a crear una instancia EC2 en la primera subred pública:</p>
<ul>
<li>La imagen será la AMI de Ubuntu.</li>
<li>El tamaño será suficiente con un tipo de instancia <em>t2.micro</em>.</li>
<li>El par de claves utilizaremos el del laboratorio (<em>vockey</em>).</li>
<li>La ubicamos en la primera subred pública (<em>subnet-public1</em>).</li>
<li>Le asignamos una IP Pública para poder conectarnos desde Internet.</li>
<li>Nos aseguramos que se crea una regla de firewall para permitir las conexiones por el puerto SSH (22).</li>
<li>Para hacer que durante el primer lanzamiento de la instrancia se instale el <strong>cliente de MySQL</strong> ponemos las siguientes líneas en el apartado de <strong>Datos de usuario</strong>:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
apt<span class="w"> </span>update
apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w">  </span>mysql-client-core-8.0
</code></pre></div>
<p><br></p>
<hr />
<p>3-  Una vez creada la instancia EC2 comprobamos su IP pública y nos conectamos por ssh desde nuestra máquina local para comprobar que todo funciona.</p>
<p><br></p>
<hr />
<h3 id="creacion-de-la-base-de-datos">Creación de la Base de Datos</h3>
<p>El primer requisito para crear una base de datos RDS es definir un <strong>grupo de subredes de bases de datos</strong> en nuestra VPC.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Un grupo de subredes de bases de datos es una colección de subredes dentro de una VPC que RDS utiliza para desplegar instancias de bases de datos. Permite especificar en qué subredes y zonas de disponibilidad se pueden alojar las bases de datos. Es necesario que al menos contenga 2 AZ, por eso la necesidad de crear nuestra VPC con al menos 2 zonas de disponibilidad, aunque solamente utilicemos una.</p>
</div>
<p>4-  Accedemos a la consola de RDS y creamos <strong>grupo de subredes</strong> con las 2 subredes privadas:</p>
<ul>
<li>Seleccionamos las 2 zonas de disponibilidad de nuestra VPC (en principio serán <em>us-east-1a</em> y <em>us-east-1b</em>).</li>
<li>Seleccionamos las 2 subredes privadas (<em>subnet-private1</em> y <em>subnet-private2</em>), puesto que deseamos crear nuestra base de datos dentro de una de las subredes privadas.</li>
</ul>
<p><img src="../images/ud05/BBDD2_01.png"></p>
<p><br></p>
<hr />
<p>5.- Ahora sí creamos una Base de Datos RDS:</p>
<ul>
<li>Seleccionamos el método de <em>creación estándar</em>.</li>
<li>Como motor de base de datos elegimos <strong>MySQL</strong>.</li>
<li>La plantilla sobre la que se va a basar será <strong>Entorno de pruebas</strong> (las demás no son aptas para el laboratorio).</li>
<li>Ponemos un nombre para la instancia de base de datos que debe ser único en nuestra cuenta de AWS. Pon el nombre <strong>bbddapellido</strong>, sustituye apellido por el tuyo</li>
<li>Asignamos nombre de usuario administrador y su contraseña.</li>
<li>Dejamos las opciones por defecto del tamaño de la instancia y el almacenamiento.</li>
<li>En el apartado <strong>Conectividad</strong>:<ul>
<li>Indicamos que vamos a conectar nuestra base de datos a una instancia EC2 y la seleccionamos en el desplegable.</li>
<li>En el <em>Grupo de subredes</em> elegimos la existente que hemos creado en el punto anterior.</li>
<li>NO permitimos el <em>Acceso Público</em> a nuestra BBDD.</li>
<li>Elegimos como <em>grupo de seguridad</em>, el existente por defecto. Nos informa que además se creará un nuevo grupo de seguridad para conectar la instancia EC2 con la RDS.</li>
</ul>
</li>
<li>Los demás campos los dejamos por defecto.</li>
</ul>
<p><br></p>
<hr />
<h3 id="conexion-a-la-base-de-datos-desde-la-maquina-ec2">Conexión a la Base de Datos desde la máquina EC2</h3>
<p>6.- Iniciamos sesión desde la máquina ubuntu y comprobamos que podemos conectarnos a la instancia MySQL, indicando la cadena de conexión y el usuario que hemos definido como administrador. En el parámetro host <code>-h</code> ponemos el nombre del servidor y en el parámetro de usuario <code>-u</code> el nombre del usuario. Para que nos solicite el password indicamos el parámetro <code>-p</code>.</p>
<p><code>mysql -h bbddtema5p2.cwhda7oxrrck.us-east-1.rds.amazonaws.com -u admin -p</code></p>
<p>Puedes encontrar el parámetro <code>-h</code> en la pestaña de <strong>conectividad y seguridad</strong>de la base de datos.</p>
<p><img src="../images/ud05/bbdd_04.png"></p>
<p><br></p>
<hr />
<div class="admonition success">
<p class="admonition-title">Captura las pantallas</p>
<p>Captura la pantalla resumen de la base de datos que muestra el <strong>punto de enlace de la conexión</strong>.</p>
<p>Captura la pantalla de <strong>establecimiento de conexión</strong> a la base de datos <strong>desde la máquina ubuntu</strong>. </p>
</div>
<p><br></p>
<hr />
<h3 id="eliminacion-de-los-recursos-creados">Eliminación de los recursos creados</h3>
<p>Una vez comprobada la conexión, para finalizar la práctica eliminamos los recursos creados.</p>
<p>7- Desde la consola de AWS, <strong>elimina el servidor de BBDD creado para asegurarnos que no dejamos ningún recurso consumiendo crédito</strong>. No crees ninguna instantánea final ni conserves las copias de seguridad.</p>
<div class="admonition warning">
<p class="admonition-title">Atención</p>
<p>Si detenemos un servidor de BBDD (sin eliminarlo), AWS lo iniciará automáticamente a los 7 días (si no lo hemos levantado nosotros de manera manual antes). Esto es peligroso, pues si olvidamos eliminar un recurso de BBDD que no utilizamos, se pondrá en marcha automáticamente a los 7 días de haberlo detenido, con el consiguiente consumo de crédito.</p>
</div>
<p><img src="../images/ud05/BBDD_03.png" width=400></p>
<p><br></p>
<hr />
<p>8- Desde la consola de AWS, <strong>elimina la instancia EC2</strong>.</p>
<p><br></p>
<hr />
<p>9.- Desde la consola de AWS, <strong>elimina la VPC</strong>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Pie" >
        
          
          <a href="bdpractica01.html" class="md-footer__link md-footer__link--prev" aria-label="Anterior: Práctica 1. Base de datos con acceso público">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Anterior
              </span>
              <div class="md-ellipsis">
                Práctica 1. Base de datos con acceso público
              </div>
            </div>
          </a>
        
        
          
          <a href="bdpractica03.html" class="md-footer__link md-footer__link--next" aria-label="Siguiente: Práctica 3. Clúster de Base de Datos Aurora">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Siguiente
              </span>
              <div class="md-ellipsis">
                Práctica 3. Clúster de Base de Datos Aurora
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["header.autohide", "navigation.top", "navigation.tracking", "navigation.footer", "navigation.indexes", "content.code.annotate", "announce.dismiss", "toc.follow", "content.code.copy"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>