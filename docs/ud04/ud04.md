# Tema 4. Almacenamiento en AWS

## Almacenamiento en la nube

El almacenamiento en la nube suele ser más fiable, escalable y seguro que los tradicionales sistemas de almacenamiento en las instalaciones. El almacenamiento en la nube es un componente fundamental del cómputo en la nube, pues contiene la información que utilizan las aplicaciones. El análisis de big data, los almacenes de datos, el Internet de las cosas (IoT), las bases de datos y las aplicaciones de copias de seguridad y archivado dependen de algún tipo de arquitectura de almacenamiento de datos. 

El almacenamiento es otra categoría de servicios básicos de AWS. Esta categoría de almacenamiento incluye:

- El **almacén de instancias**, o almacenamiento efímero. Es un **almacenamiento temporal** que se añade a una instancia de Amazon EC2. 
- **Amazon EBS**: un almacenamiento montable y persistente que se puede montar como dispositivo a una instancia de Amazon EC2. Solo una instancia de Amazon EC2 al mismo tiempo  puede montar un volumen de Amazon EBS. Equivale al disco virtual de la instancia EC2.
- **Amazon EFS**: un sistema de archivos compartidos que múltiples instancias de Amazon EC2 pueden montar en simultáneo. Como si fuera un NAS.
- **Amazon S3**: un almacenamiento persistente en el que cada archivo se convierte en un **objeto** que está disponible por medio de un localizador uniforme de recursos (URL) y al que se puede acceder desde cualquier lugar.
- **Amazon S3 Glacier**: es para el almacenamiento *en frío* de datos a los que no se accede con frecuencia (por ejemplo, cuando se necesita almacenamiento de datos a largo plazo por motivos de archivado o copia de seguridad).

## Almacenamiento a nivel de Bloque, Fichero y Objeto
Una diferencia clave entre algunos tipos de almacenamiento es saber si ofrecen almacenamiento en el nivel de bloque, a nivel de fichero o a nivel de objeto. 

<img src="../images/ud04/ud04_01.png" width="600">

Esta diferencia tiene un gran impacto en el rendimiento, la latencia y el costo de la solución de almacenamiento. Las soluciones de almacenamiento en bloque suelen ser más rápidas y utilizan menos ancho de banda, pero pueden costar más que el almacenamiento en el nivel de objeto.

### Almacenamiento en bloque (Block Storage)

- Los datos se dividen en bloques de tamaño fijo (por ejemplo, 512 B o 4 KB).
- Cada bloque tiene una dirección, pero no contiene metadatos.
- El sistema operativo o la aplicación se encarga de organizar los bloques (por ejemplo, mediante un sistema de archivos).
- Ejemplo típico: Discos duros, SSD, volúmenes de máquinas virtuales (como los archivos *.vdi* de VirtualBox o como *Amazon EBS*).

### Almacenamiento de ficheros (File Storage)

- Los datos se organizan en un sistema de archivos jerárquico (carpetas y subcarpetas).
- Los usuarios acceden a los archivos mediante rutas (por ejemplo, `/documentos/informe.pdf`).
- Se usa un protocolo de red como NFS (Linux/Unix) o SMB/CIFS (Windows).
- Ejemplo típico: Servidores NAS, carpetas compartidas en red.

### Almacenamiento de objetos (Object Storage)

- Los datos se almacenan como objetos completos, cada uno con:
    - El dato (contenido del archivo),
    - Un identificador único (ID o hash),
    - Y metadatos personalizados.
- No hay estructura jerárquica: los objetos se guardan en “buckets” (contenedores).
- Se accede normalmente mediante API HTTP/HTTPS (REST).
- Ejemplo típico: Amazon S3, Azure Blob Storage, Google Cloud Storage.

<br>

| Característica      | Bloques                   | Ficheros                       | Objetos                       |
| ------------------- | ------------------------- | ------------------------------ | ----------------------------- |
| **Organización**        | Bloques con dirección     | Árbol de carpetas y archivos   | Objetos con metadatos         |
| **Acceso**              | Bajo nivel (E/S directa)  | Ruta de archivo                | API o URL                     |
| **Protocolos comunes**  | iSCSI, Fibre Channel      | NFS, SMB/CIFS                  | HTTP/HTTPS (REST, S3 API)     |
| **Usos típicos**        | Bases de datos, discos VM | Servidores NAS, uso compartido | Backups, multimedia, big data |
| **Ejemplos en AWS**     | Amazon EBS                | Amazon EFS                     | Amazon S3                     |


En este tema veremos los siguientes servicios de AWS:

- Amazon Simple Storage Service (**Amazon S3**) --> Almacenamiento a nivel de Objetos
- Amazon Elastic Block Store (**Amazon EBS**) --> Almacenamiento a nivel de Bloques
- Amazon Elastic File System (**Amazon EFS**) --> Almacenamiento a nivel de Ficheros
- Amazon Simple Storage Service **Glacier** --> Almacenamiento a nivel de Objetos


## Amazon S3

## Amazon EBS

## Amazon EFS

## Amazon S3 Glacier
